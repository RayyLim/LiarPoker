package com.example.liarpoker;

import android.app.Activity;
import android.os.Bundle;
import android.view.View;
import android.widget.Button;
import android.widget.TextView;

public class GameRoomActivity extends Activity 
{
	public static String currentPlayerHas = "";
	
	@Override
    public void onCreate(Bundle savedInstanceState) 
	{
        super.onCreate(savedInstanceState);
        
        setContentView(R.layout.gameroom_main);
        
        String hand = Integer.toString((int)(Math.random()*100000));
        
        TextView handTextView = (TextView) findViewById(R.id.mynumbersLabel);
        handTextView.setText(hand);
        
        
        
        currentPlayerHas = "";
        
        UpdateGameUI();
        
	}
	
	public void fakeRandomCurrentPlayerHas(View view)
	{
		int randomNumber = (int)(Math.random()*10);
		int randomCount = (int)(Math.random()*10);
		
		int randomCurrentPlayerHas = randomNumber;
		
		while(randomCount > 1)
		{
			randomCurrentPlayerHas = randomCurrentPlayerHas * 10 + randomCurrentPlayerHas;
		}
		
		currentPlayerHas = Integer.toString(randomCurrentPlayerHas);
		UpdateGameUI();
	}
	
	private void UpdateGameUI()
	{
		TextView currentPlayerHasTextView = (TextView) findViewById(R.id.currentPlayerHasLabel);
    	Button liarButton = (Button) findViewById(R.id.liarButton);
    	Button notLiarButton = (Button) findViewById(R.id.notLiarButton);
    	
		if(currentPlayerHas == "")
        {
        	currentPlayerHasTextView.setText(R.string.waiting);
        	
        	// Disable Buttons     	
        	liarButton.setEnabled(false);
        	notLiarButton.setEnabled(false);
        }
        else
        {
        	currentPlayerHasTextView.setText(currentPlayerHas);
        	
        	// Enable buttons
        	liarButton.setEnabled(true);
        	notLiarButton.setEnabled(true);
        }
	}
}
